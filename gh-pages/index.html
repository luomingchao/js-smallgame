<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI指挥官：智能战线</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-container">
        <!-- 游戏标题和AI状态 -->
        <header class="game-header">
            <h1>🤖 AI指挥官：智能战线</h1>
            <div class="ai-status">
                <div class="ai-assistant">
                    <span class="ai-icon">🧠</span>
                    <span>雅典娜AI</span>
                    <span class="ai-mood" id="aiMood">准备就绪</span>
                </div>
                <div class="ai-chat">
                    <div id="aiMessages" class="chat-container">
                        <div class="ai-message">指挥官，战场准备就绪。开始行动！</div>
                    </div>
                    <input type="text" id="playerInput" placeholder="与AI副官对话..." maxlength="100">
                </div>
            </div>
        </header>

        <!-- 游戏主界面 -->
        <main class="game-main">
            <!-- 关卡信息栏 -->
            <div class="level-info">
                <div class="level-display">
                    <span>当前关卡: <span id="currentLevel">1</span> / 5</span>
                    <span class="level-difficulty" id="levelDifficulty">简单</span>
                </div>
                <div class="newbie-mode" id="newbieMode">
                    <span>🆕 新手模式</span>
                </div>
            </div>
            
            <!-- 游戏网格区域 -->
            <div class="game-grid">
                <!-- 左侧面板 -->
            <div class="left-panel">
                <div class="player-info">
                    <h3>玩家状态</h3>
                    <div class="resource-bar">
                        <div class="resource">
                            <span class="resource-icon">💰</span>
                            <span class="resource-value" id="money">1000</span>
                        </div>
                        <div class="resource">
                            <span class="resource-icon">⚡</span>
                            <span class="resource-value" id="energy">500</span>
                        </div>
                    </div>
                </div>
                
                <div class="unit-controls">
                    <h3>单位控制</h3>
                    <div class="unit-buttons">
                        <button class="unit-btn" data-unit="soldier" data-cost="100">
                            <span class="unit-icon">⚔️</span>
                            士兵<br><small>100金</small>
                        </button>
                        <button class="unit-btn" data-unit="tank" data-cost="300">
                            <span class="unit-icon">🚗</span>
                            坦克<br><small>300金 + 20能量</small>
                        </button>
                        <button class="unit-btn" data-unit="worker" data-cost="50">
                            <span class="unit-icon">👷</span>
                            工人<br><small>50金</small>
                        </button>
                    </div>
                </div>

                <div class="ai-analysis">
                    <h3>AI战术分析</h3>
                    <div id="aiAnalysis" class="analysis-content">
                        等待开始战斗...
                    </div>
                </div>
            </div>

            <!-- 游戏地图区域 -->
            <div class="game-map">
                <canvas id="gameCanvas" width="800" height="600"></canvas>
                <div class="map-controls">
                    <button id="startGame">开始战斗</button>
                    <button id="pauseGame">暂停</button>
                    <button id="resetGame">重置</button>
                </div>
            </div>

            <!-- 右侧面板 -->
            <div class="right-panel">
                <div class="ai-stats">
                    <h3>AI状态</h3>
                    <div class="stat-item">
                        <span>计算复杂度:</span>
                        <span id="aiComplexity">简单</span>
                    </div>
                    <div class="stat-item">
                        <span>决策质量:</span>
                        <span id="aiQuality">优秀</span>
                    </div>
                    <div class="stat-item">
                        <span>响应时间:</span>
                        <span id="aiResponse">0.1s</span>
                    </div>
                </div>

                <div class="game-log">
                    <h3>战斗日志</h3>
                    <div id="battleLog" class="log-content">
                        <div class="log-entry">游戏开始，准备战斗！</div>
                    </div>
                </div>

                <div class="win-condition">
                    <h3>胜利条件</h3>
                    <p>摧毁敌方基地或击败所有敌军</p>
                    <div class="progress-bar">
                        <div id="winProgress" class="progress-fill"></div>
                    </div>
                </div>
            </div>
            </div> <!-- 结束游戏网格区域 -->
        </main>

        <!-- 底部状态栏 -->
        <footer class="game-footer">
            <div class="footer-info">
                <span>单位数量: <span id="unitCount">0</span></span>
                <span>游戏时间: <span id="gameTime">00:00</span></span>
                <span>AI建议数: <span id="aiSuggestionCount">0</span></span>
            </div>
            <div class="game-mode">
                <span>模式: 单人对战AI</span>
            </div>
        </footer>
    </div>

    <!-- 游戏规则弹窗 -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <h2>🎮 游戏规则 & 关卡指南</h2>
            <div class="rules-content">
                <h3>🎆 游戏特色</h3>
                <ul>
                    <li>🤖 <strong>5个关卡</strong>：从新手教学到专家挑战</li>
                    <li>🧠 <strong>三重AI系统</strong>：雅典娜副官、阿瑞斯敌AI、赫尔墨斯事件AI</li>
                    <li>🎓 <strong>新手模式</strong>：关卡1有完整教学指导</li>
                    <li>⚔️ <strong>渐进式难度</strong>：AI逐渐变强，挑战递增</li>
                </ul>
                
                <h3>🎯 关卡介绍</h3>
                <ul>
                    <li>📜 <strong>关卡1 - 新手教学</strong>：简单AI，充裕资源，完整指导</li>
                    <li>⚡ <strong>关卡2 - 基础训练</strong>：简单AI，中等时间限制</li>
                    <li>⚔️ <strong>关卡3 - 战术挑战</strong>：中等AI，需要策略思考</li>
                    <li>💪 <strong>关卡4 - 艰难对抗</strong>：困难AI，高速决策</li>
                    <li>🏆 <strong>关卡5 - 大师对决</strong>：专家AI，最终挑战</li>
                </ul>
                
                <h3>🎮 基本玩法</h3>
                <ul>
                    <li>点击单位按钮招募士兵、坦克或工人</li>
                    <li>点击地图上的位置移动选中的单位</li>
                    <li>与雅典娜AI对话获取实时战术建议</li>
                    <li>摧毁敌方基地或击败所有敌军获胜</li>
                </ul>
                
                <h3>💬 新手模式</h3>
                <ul>
                    <li>🌱 关卡1有详细的新手指导</li>
                    <li>🐌 AI决策速度放慢（4秒间隔）</li>
                    <li>💰 资源奖励增加（1500金币）</li>
                    <li>🛡️ 基地血量更高（1200血量）</li>
                    <li>📝 AI副官实时指导操作</li>
                </ul>
                
                <h3>🎆 单位介绍</h3>
                <ul>
                    <li>⚔️ <strong>士兵</strong>: 基础作战单位，成本低，适合大批生产 <em>(克制坦克)</em></li>
                    <li>🚗 <strong>坦克</strong>: 强大的攻击单位，成本高，需消耗能量 <em>(克制工人)</em></li>
                    <li>👷 <strong>工人</strong>: 采集资源，建造基地，成本最低 <em>(克制士兵)</em></li>
                </ul>
                
                <h3>⚡ 资源系统</h3>
                <ul>
                    <li>💰 <strong>金币</strong>: 主要资源，用于创建所有单位</li>
                    <li>⚡ <strong>能量</strong>: 高级资源，坦克等高级单位需要消耗</li>
                    <li>🏭 <strong>基础收入</strong>: 每秒自动获得金币（10金）和能量（5能量）</li>
                    <li>⛏️ <strong>采集效率</strong>: 工人采集金币更高效，能量采集效率较低</li>
                </ul>
                
                <h3>⚖️ 单位克制关系</h3>
                <ul>
                    <li>🎯 <strong>克制关系</strong>: 士兵→坦克→工人→士兵 (石头剪刀布)</li>
                    <li>💪 <strong>克制攻击</strong>: 克制的单位造成1.5倍伤害</li>
                    <li>🛡️ <strong>被克制伤害</strong>: 被克制的单位承受0.7倍伤害</li>
                    <li>🏰 <strong>基地防御</strong>: 基地附近攻击有20%防御加成</li>
                </ul>
                
                <h3>🤖 AI功能</h3>
                <ul>
                    <li>🧠 实时战术分析和建议</li>
                    <li>🤖 根据关卡调整的智能对手</li>
                    <li>💡 动态学习，适应玩家风格</li>
                </ul>
            </div>
            <button id="closeRules">开始游戏</button>
        </div>
    </div>

    <script src="js/game.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>