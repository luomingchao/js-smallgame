<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èµ„æºç³»ç»Ÿä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-section {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #444;
        }
        
        .test-title {
            color: #4CAF50;
            font-size: 20px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .test-result {
            background: #333;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
        }
        
        .success {
            color: #4CAF50;
        }
        
        .warning {
            color: #FF9800;
        }
        
        .error {
            color: #f44336;
        }
        
        .info {
            color: #2196F3;
        }
        
        .test-checklist {
            list-style: none;
            padding: 0;
        }
        
        .test-checklist li {
            padding: 5px 0;
            border-bottom: 1px solid #444;
        }
        
        .checkmark {
            color: #4CAF50;
            margin-right: 10px;
        }
        
        .cross {
            color: #f44336;
            margin-right: 10px;
        }
        
        .resource-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }
        
        .resource-card {
            background: #444;
            border-radius: 8px;
            padding: 15px;
            border: 2px solid #666;
        }
        
        .resource-card.money {
            border-color: #FFD700;
        }
        
        .resource-card.energy {
            border-color: #00BFFF;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 style="text-align: center; color: #4CAF50;">âš¡ èµ„æºç³»ç»Ÿä¿®å¤éªŒè¯</h1>
        
        <div class="test-section">
            <div class="test-title">é—®é¢˜è¯Šæ–­</div>
            <div class="test-result">
                <strong>åŸé—®é¢˜1ï¼š</strong> å¤šä¸ªå·¥äººé‡‡é›†é’±çš„æ•°é‡æ²¡æœ‰å¢é•¿<br>
                <strong>æ ¹æœ¬åŸå› ï¼š</strong> `isNearResource()` æ–¹æ³•ä¸­èµ„æºç‚¹å®šä¹‰ä¸ä¸€è‡´ï¼Œå·¥äººæ— æ³•æ­£ç¡®è¯†åˆ«é‡‡é›†çŠ¶æ€<br>
                <strong>åŸé—®é¢˜2ï¼š</strong> èƒ½é‡ç³»ç»Ÿæ²¡æœ‰ä½œç”¨<br>
                <strong>æ ¹æœ¬åŸå› ï¼š</strong> èƒ½é‡åªæœ‰åˆå§‹å€¼ï¼Œæ²¡æœ‰ç”Ÿæˆå’Œæ¶ˆè€—æœºåˆ¶<br>
                <strong>ä¿®å¤æ–¹æ¡ˆï¼š</strong> ç»Ÿä¸€èµ„æºç‚¹å®šä¹‰ï¼Œæ·»åŠ èƒ½é‡ç”Ÿæˆæ¶ˆè€—æœºåˆ¶
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">ä¿®å¤å†…å®¹æ£€æŸ¥</div>
            <ul class="test-checklist">
                <li><span class="checkmark">âœ“</span><strong>ç»Ÿä¸€èµ„æºç‚¹å®šä¹‰ï¼š</strong> `isNearResource()` å’Œ `autoCollect()` ä½¿ç”¨ç›¸åŒçš„èµ„æºç‚¹åˆ—è¡¨</li>
                <li><span class="checkmark">âœ“</span><strong>èµ„æºç±»å‹è¯†åˆ«ï¼š</strong> æ·»åŠ  `getCurrentResourceType()` æ–¹æ³•åŒºåˆ†é‡‘å¸å’Œèƒ½é‡é‡‡é›†</li>
                <li><span class="checkmark">âœ“</span><strong>èƒ½é‡ç”Ÿæˆç³»ç»Ÿï¼š</strong> ç©å®¶æ¯ç§’è·å¾—5èƒ½é‡ï¼ŒAIæ¯ç§’è·å¾—5èƒ½é‡</li>
                <li><span class="checkmark">âœ“</span><strong>èƒ½é‡æ¶ˆè€—æœºåˆ¶ï¼š</strong> å¦å…‹åˆ›å»ºéœ€è¦æ¶ˆè€—20èƒ½é‡</li>
                <li><span class="checkmark">âœ“</span><strong>æ™ºèƒ½é‡‡é›†é€»è¾‘ï¼š</strong> å·¥äººåœ¨é‡‘å¸ç‚¹é‡‡é›†ï¼Œåœ¨èƒ½é‡ç‚¹é‡‡é›†èƒ½é‡</li>
                <li><span class="checkmark">âœ“</span><strong>èµ„æºä¸è¶³æç¤ºï¼š</strong> æ˜¾ç¤ºå…·ä½“çš„èµ„æºä¸è¶³ä¿¡æ¯</li>
            </ul>
        </div>
        
        <div class="test-section">
            <div class="test-title">èµ„æºç³»ç»Ÿè®¾è®¡</div>
            <div class="resource-demo">
                <div class="resource-card money">
                    <h3>ğŸ’° é‡‘å¸ç³»ç»Ÿ</h3>
                    <ul>
                        <li><strong>åŸºç¡€æ”¶å…¥:</strong> æ¯ç§’10é‡‘å¸</li>
                        <li><strong>å·¥äººé‡‡é›†:</strong> æ¯ç§’2é‡‘å¸</li>
                        <li><strong>AIæ”¶å…¥:</strong> æ¯ç§’10-25é‡‘å¸ï¼ˆæ ¹æ®éš¾åº¦ï¼‰</li>
                        <li><strong>æ¶ˆè€—:</strong> å£«å…µ100é‡‘ï¼Œå¦å…‹300é‡‘ï¼Œå·¥äºº50é‡‘</li>
                    </ul>
                </div>
                
                <div class="resource-card energy">
                    <h3>âš¡ èƒ½é‡ç³»ç»Ÿ</h3>
                    <ul>
                        <li><strong>åŸºç¡€æ”¶å…¥:</strong> æ¯ç§’5èƒ½é‡</li>
                        <li><strong>å·¥äººé‡‡é›†:</strong> èƒ½é‡ç‚¹æ¯ç§’1èƒ½é‡ï¼ˆæ•ˆç‡è¾ƒä½ï¼‰</li>
                        <li><strong>AIæ”¶å…¥:</strong> æ¯ç§’5èƒ½é‡</li>
                        <li><strong>æ¶ˆè€—:</strong> å¦å…‹éœ€è¦20èƒ½é‡</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">æŠ€æœ¯å®ç°ç»†èŠ‚</div>
            <div class="test-result">
                <strong>ä¿®å¤å‰ï¼ˆå·¥äººé‡‡é›†é—®é¢˜ï¼‰:</strong><br>
                <code style="color: #f44336;">
                // isNearResource() å’Œ autoCollect() ä½¿ç”¨ä¸åŒçš„èµ„æºç‚¹å®šä¹‰<br>
                isNearResource() { resources: [{x: 120, y: 250}, ...] }<br>
                autoCollect() { resources: [{x: 120, y: 250, type: 'gold'}, ...] }
                </code>
                <br><br>
                <strong>ä¿®å¤åï¼ˆç»Ÿä¸€èµ„æºç‚¹å®šä¹‰ï¼‰:</strong><br>
                <code style="color: #4CAF50;">
                // ä¸¤ä¸ªæ–¹æ³•ä½¿ç”¨ç›¸åŒçš„èµ„æºç‚¹å®šä¹‰<br>
                isNearResource() { resources: [{x: 120, y: 250, type: 'gold'}, ...] }<br>
                autoCollect() { resources: [{x: 120, y: 250, type: 'gold'}, ...] }
                </code>
                <br><br>
                <strong>èƒ½é‡ç³»ç»Ÿæ–°å¢é€»è¾‘:</strong><br>
                <code style="color: #2196F3;">
                // åŸºç¡€èƒ½é‡æ”¶å…¥<br>
                this.resources.energy += 5 * deltaTime / 1000;<br><br>
                // å¦å…‹éœ€è¦èƒ½é‡æ¶ˆè€—<br>
                if (type === 'tank') {<br>
                &nbsp;&nbsp;energyCost = 20;<br>
                &nbsp;&nbsp;canCreate = this.resources.money >= cost && this.resources.energy >= energyCost;<br>
                }
                </code>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">æ¸¸æˆæµ‹è¯•æŒ‡å—</div>
            <div class="test-result">
                <h4>å·¥äººé‡‡é›†æµ‹è¯•æ­¥éª¤:</h4>
                <ol>
                    <li><strong>åˆ›å»ºå·¥äºº:</strong> è®­ç»ƒ3-4ä¸ªå·¥äºº</li>
                    <li><strong>è§‚å¯Ÿç§»åŠ¨:</strong> å·¥äººä»¬åº”è¯¥è‡ªåŠ¨ç§»åŠ¨åˆ°èµ„æºç‚¹</li>
                    <li><strong>æ£€æŸ¥é‡‘å¸å¢é•¿:</strong> é‡‘å¸åº”è¯¥æ¯”åŸºç¡€æ”¶å…¥å¢é•¿æ›´å¿«</li>
                    <li><strong>éªŒè¯é‡‡é›†æ•ˆç‡:</strong> å¤šä¸ªå·¥äººåº”è¯¥å¸¦æ¥æ›´å¤šé‡‘å¸</li>
                </ol>
                
                <h4>èƒ½é‡ç³»ç»Ÿæµ‹è¯•æ­¥éª¤:</h4>
                <ol>
                    <li><strong>è§‚å¯Ÿèƒ½é‡å¢é•¿:</strong> èƒ½é‡æ¡åº”è¯¥ç¼“æ…¢å¢é•¿</li>
                    <li><strong>æµ‹è¯•å¦å…‹åˆ›å»º:</strong> åœ¨èƒ½é‡è¶³å¤Ÿæ—¶æ‰èƒ½åˆ›å»ºå¦å…‹</li>
                    <li><strong>èµ„æºä¸è¶³æç¤º:</strong> èƒ½é‡ä¸è¶³æ—¶æ˜¾ç¤ºæç¤ºä¿¡æ¯</li>
                    <li><strong>èƒ½é‡æ¶ˆè€—:</strong> åˆ›å»ºå¦å…‹åèƒ½é‡åº”è¯¥å‡å°‘</li>
                </ol>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">é¢„æœŸç»“æœ</div>
            <div class="test-result">
                <div class="success">
                    âœ… <strong>å·¥äººé‡‡é›†:</strong><br>
                    - å·¥äººè‡ªåŠ¨ç§»åŠ¨åˆ°èµ„æºç‚¹<br>
                    - é‡‘å¸å¢é•¿é€Ÿç‡æ˜æ˜¾æé«˜<br>
                    - å¤šä¸ªå·¥äººé‡‡é›†æ—¶é‡‘å¸ç´¯ç§¯æ›´å¿«<br>
                    - å·¥äººé è¿‘é‡‘å¸ç‚¹æ—¶é‡‡é›†é‡‘å¸<br>
                    - å·¥äººé è¿‘èƒ½é‡ç‚¹æ—¶é‡‡é›†èƒ½é‡<br><br>
                    
                    âœ… <strong>èƒ½é‡ç³»ç»Ÿ:</strong><br>
                    - èƒ½é‡æ¡æŒç»­ç¼“æ…¢å¢é•¿<br>
                    - å¦å…‹åˆ›å»ºéœ€è¦æ¶ˆè€—èƒ½é‡<br>
                    - èµ„æºä¸è¶³æ—¶æ˜¾ç¤ºå…·ä½“æç¤º<br>
                    - AIä¹Ÿæœ‰èƒ½é‡ç”Ÿæˆå’Œæ¶ˆè€—<br>
                    - æ¸¸æˆå¹³è¡¡æ€§å¾—åˆ°æå‡
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">æ•…éšœæ’é™¤</div>
            <div class="test-result">
                <div class="warning">
                    <strong>å¦‚æœå·¥äººé‡‡é›†ä»ç„¶æœ‰é—®é¢˜:</strong><br>
                    1. æ£€æŸ¥å·¥äººæ˜¯å¦åœ¨èµ„æºç‚¹é™„è¿‘ï¼ˆ40åƒç´ èŒƒå›´å†…ï¼‰<br>
                    2. ç¡®è®¤èµ„æºç‚¹å®šä¹‰åœ¨ `isNearResource()` å’Œ `autoCollect()` ä¸­ä¸€è‡´<br>
                    3. éªŒè¯å·¥äººé‡‡é›†é€»è¾‘æ²¡æœ‰é”™è¯¯<br>
                    4. æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰JavaScripté”™è¯¯<br><br>
                    
                    <strong>å¦‚æœèƒ½é‡ç³»ç»Ÿä¸å·¥ä½œ:</strong><br>
                    1. ç¡®è®¤èƒ½é‡æ¡æœ‰åŸºç¡€æ”¶å…¥å¢é•¿<br>
                    2. æ£€æŸ¥å¦å…‹åˆ›å»ºæ—¶çš„èƒ½é‡æ£€æŸ¥é€»è¾‘<br>
                    3. éªŒè¯èµ„æºä¸è¶³æ—¶çš„æç¤ºé€»è¾‘<br>
                    4. æ£€æŸ¥AIçš„èƒ½é‡ç”Ÿæˆæœºåˆ¶
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">ä»£ç éªŒè¯è¦ç‚¹</div>
            <div class="test-result">
                <strong>æ£€æŸ¥åˆ—è¡¨:</strong><br>
                1. <code>isNearResource()</code> æ–¹æ³•ä¸­çš„èµ„æºç‚¹åŒ…å« <code>type</code> å±æ€§<br>
                2. <code>getCurrentResourceType()</code> æ–¹æ³•è¿”å›æ­£ç¡®ç±»å‹<br>
                3. <code>generateResources()</code> ä¸­åŒ…å«èƒ½é‡ç”Ÿæˆ<br>
                4. <code>createUnit()</code> ä¸­åŒ…å«èƒ½é‡æ¶ˆè€—æ£€æŸ¥<br>
                5. <code>generateAIResources()</code> ä¸­åŒ…å«èƒ½é‡ç”Ÿæˆ<br>
                6. HTMLä¸­å¦å…‹æŒ‰é’®æ˜¾ç¤ºèƒ½é‡æ¶ˆè€—ä¿¡æ¯
            </div>
        </div>
    </div>
    
    <script>
        // è‡ªåŠ¨æ˜¾ç¤ºé¡µé¢åŠ è½½ä¿¡æ¯
        window.onload = function() {
            console.log('èµ„æºç³»ç»Ÿä¿®å¤éªŒè¯é¡µé¢åŠ è½½å®Œæˆ');
            console.log('ä¿®å¤æ—¶é—´:', new Date().toLocaleString());
            
            // æ¨¡æ‹Ÿèµ„æºæµ‹è¯•
            console.log('\n=== èµ„æºç³»ç»Ÿä¿®å¤éªŒè¯ ===');
            
            // æ¨¡æ‹Ÿå·¥äººé‡‡é›†æµ‹è¯•
            let money = 1000;
            let energy = 500;
            const workers = 3;
            const baseIncome = 10; // æ¯ç§’åŸºç¡€é‡‘å¸
            const workerIncome = 2; // æ¯å·¥äººæ¯ç§’é‡‘å¸
            const energyIncome = 5; // æ¯ç§’åŸºç¡€èƒ½é‡
            
            console.log('\næ¨¡æ‹Ÿå·¥äººé‡‡é›†æµ‹è¯•:');
            for (let second = 0; second <= 10; second++) {
                money += baseIncome + workers * workerIncome;
                energy += energyIncome;
                
                if (second % 2 === 0) {
                    console.log(`ç¬¬${second}ç§’: é‡‘å¸=${Math.floor(money)}, èƒ½é‡=${Math.floor(energy)}`);
                }
            }
            
            // æ¨¡æ‹Ÿå¦å…‹åˆ›å»ºæµ‹è¯•
            console.log('\næ¨¡æ‹Ÿå¦å…‹åˆ›å»ºæµ‹è¯•:');
            console.log('å½“å‰èµ„æº:', { money: Math.floor(money), energy: Math.floor(energy) });
            
            const tankCost = 300;
            const tankEnergyCost = 20;
            
            if (money >= tankCost && energy >= tankEnergyCost) {
                money -= tankCost;
                energy -= tankEnergyCost;
                console.log('âœ… æˆåŠŸåˆ›å»ºå¦å…‹');
                console.log('å‰©ä½™èµ„æº:', { money: Math.floor(money), energy: Math.floor(energy) });
            } else {
                console.log('âŒ èµ„æºä¸è¶³ï¼Œæ— æ³•åˆ›å»ºå¦å…‹');
                console.log('æ‰€éœ€:', { money: tankCost, energy: tankEnergyCost });
            }
        };
    </script>
</body>
</html>